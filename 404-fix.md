
# What was causing the error?
The root cause was a security restriction in MySQL 8. Sakai was trying to connect to the database, but MySQL 8 refused the connection with the error: "Public Key Retrieval is not allowed". Because the database connection failed, the Sakai Kernel (the core system) crashed during startup. When the core crashes, all the tools (like the Portal) fail to load, which is why you kept seeing that "404 Not Found" page.

# How I fixed it:
Connection Fix: I added &allowPublicKeyRetrieval=true to your database connection URL in sakai.properties and the Docker configuration.
Modern Dialect: I upgraded the system to use MySQL8Dialect instead of the old MySQL 5 version to ensure better compatibility with your database.
Permanent Installer: I updated your install_sakai.sh script so that any future installations will have this fix applied automatically.
ðŸ’¡ How to fix it yourself in the future:
If you ever set up Sakai on a new server and see this error:

Edit your sakai.properties file.
Add &allowPublicKeyRetrieval=true to the end of the url@javax.sql.BaseDataSource line.
Run your ./stop_sakai.sh and then ./start_sakai.sh.